<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Optimizer Pro - Achievement Popup Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Kanit', sans-serif;
            background-color: #020617;
            color: #f8fafc;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
        }

        /* Global Alert Animation */
        #global-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-200%);
            z-index: 10000;
            width: 90%;
            max-width: 400px;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        #global-alert.active {
            transform: translateX(-50%) translateY(0);
        }

        /* Progress Sub Bars */
        .progress-sub-bar {
            height: 6px;
            background: #1e293b;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-fill-guard {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
            height: 100%;
            transition: width 1s ease-out;
        }

        .progress-fill-rift {
            background: linear-gradient(90deg, #8b5cf6, #d946ef);
            height: 100%;
            transition: width 1s ease-out;
        }

        /* Modals */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .stat-glow {
            text-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Global Alert UI -->
    <div id="global-alert">
        <div class="bg-slate-900 border-2 border-cyan-500 p-4 rounded-2xl flex items-center gap-4 shadow-2xl">
            <span id="alert-icon" class="text-2xl">üîî</span>
            <div>
                <p id="alert-msg" class="text-sm font-bold text-white">System Ready</p>
                <p class="text-[10px] text-cyan-400 uppercase tracking-widest">Notification</p>
            </div>
        </div>
    </div>

    <div class="max-w-[1200px] mx-auto">
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6">
            <div>
                <h1 class="text-3xl font-black tracking-tighter italic bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-500">
                    ENERGY OPTIMIZER
                </h1>
                <p class="text-[10px] font-bold text-slate-500 uppercase tracking-[0.3em]">Guardian Protocol v1.6.0</p>
            </div>

            <div class="flex items-center gap-3">
                <!-- Achievements Trigger Button -->
                <button onclick="openModal('achievement-modal')" class="bg-slate-900 border border-amber-500/50 p-3 rounded-2xl hover:bg-slate-800 transition-all active:scale-95 shadow-lg group">
                    <span class="group-hover:scale-125 inline-block transition-transform">üåü</span>
                </button>
                <button onclick="openModal('rank-modal')" class="bg-slate-900 border border-slate-800 p-3 rounded-2xl hover:bg-slate-800 transition-all active:scale-95 shadow-lg">üèÜ</button>
                <button onclick="openModal('tiers-modal')" class="bg-slate-900 border border-slate-800 p-3 rounded-2xl hover:bg-slate-800 transition-all active:scale-95 shadow-lg">üìä</button>
                <button onclick="openModal('config-modal')" class="bg-slate-900 border border-slate-800 p-3 rounded-2xl hover:bg-slate-800 transition-all active:scale-95 shadow-lg">üîî</button>
                
                <div class="bg-slate-950 border border-slate-800 px-6 py-3 rounded-2xl text-cyan-400 font-mono text-lg shadow-inner min-w-[120px] text-center" id="clock">
                    00:00:00
                </div>
            </div>
        </header>

        <!-- Main Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Left: Profile & Input -->
            <div class="space-y-8">
                <div class="glass-card p-6 border-l-4 border-cyan-500 relative overflow-hidden">
                    <div class="flex items-center gap-5 mb-8">
                        <div class="w-20 h-20 rounded-3xl bg-slate-800 border border-slate-700 p-1 shadow-xl">
                            <img src="https://api.dicebear.com/7.x/pixel-art/svg?seed=EcoGuardian" class="w-full h-full object-cover rounded-2xl">
                        </div>
                        <div>
                            <h2 class="text-2xl font-black italic">Eco_Pioneer</h2>
                            <span id="u-rank" class="text-[10px] bg-cyan-500/10 text-cyan-400 px-3 py-1 rounded-full font-bold uppercase tracking-widest">Newbie</span>
                        </div>
                    </div>
                    
                    <div class="space-y-2">
                        <div class="flex justify-between text-[10px] font-black text-slate-400 uppercase">
                            <span>Level <span id="u-lv" class="text-cyan-400">1</span></span>
                            <span id="u-exp-txt">0/100 XP</span>
                        </div>
                        <div class="h-3 w-full bg-slate-800/50 rounded-full overflow-hidden p-[2px]">
                            <div id="u-exp-bar" class="h-full bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full transition-all duration-1000" style="width: 15%"></div>
                        </div>
                    </div>
                </div>

                <div class="glass-card p-8">
                    <h3 class="text-[10px] font-black text-slate-500 uppercase mb-6 tracking-[0.2em]">Input Control</h3>
                    <div class="space-y-6">
                        <div class="space-y-2">
                            <label class="text-[10px] font-bold text-slate-400 uppercase ml-1">Target Limit (kWh)</label>
                            <input type="number" id="in-limit" value="10" class="w-full bg-slate-950/50 border border-slate-800 p-4 rounded-2xl text-white text-xl outline-none focus:border-cyan-500 transition-all font-mono">
                        </div>
                        <div class="space-y-2">
                            <label class="text-[10px] font-bold text-slate-400 uppercase ml-1">Current Usage (kWh)</label>
                            <input type="number" id="in-usage" placeholder="0.00" class="w-full bg-slate-950/50 border border-slate-800 p-4 rounded-2xl text-white text-xl outline-none focus:border-cyan-500 transition-all font-mono">
                        </div>
                        <button onclick="processData()" class="w-full py-5 bg-cyan-500 hover:bg-cyan-400 text-slate-950 font-black rounded-2xl transition-all shadow-xl shadow-cyan-500/10 active:scale-95 text-lg italic uppercase">
                            SAVE PERFORMANCE
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right: Display Stats -->
            <div class="glass-card p-8 flex flex-col items-center justify-between text-center">
                <div class="w-full">
                    <h3 class="text-[10px] font-black text-slate-500 uppercase mb-12 tracking-[0.3em]">Efficiency Overview</h3>
                    <div class="space-y-16">
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Accumulated Points</p>
                            <h4 id="stat-p" class="text-7xl font-black text-white stat-glow">0</h4>
                        </div>
                        <div>
                            <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-2">Money Saved</p>
                            <div class="flex items-center justify-center gap-3">
                                <h4 id="stat-s" class="text-6xl font-black text-emerald-400">0.00</h4>
                                <span class="text-xl font-bold text-slate-600 italic">‡∏ø</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="w-full mt-12 bg-slate-950/40 border border-slate-800/50 rounded-3xl p-6">
                    <p class="text-[10px] font-black text-slate-500 uppercase mb-2 tracking-widest">Upcoming Reminder</p>
                    <p id="reminder-display" class="text-2xl font-black text-cyan-400 font-mono">18:00</p>
                </div>
            </div>

        </div>
    </div>

    <!-- MODALS -->

    <!-- ACHIEVEMENT MODAL (New Category Logic) -->
    <div id="achievement-modal" class="modal-overlay" onclick="closeModal('achievement-modal')">
        <div class="glass-card p-8 w-full max-w-lg max-h-[85vh] overflow-y-auto" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-8 sticky top-0 bg-slate-900/90 backdrop-blur-md py-2 z-10">
                <h2 class="text-2xl font-black italic uppercase">Achievements</h2>
                <button onclick="closeModal('achievement-modal')" class="text-slate-500 hover:text-white">‚úï</button>
            </div>

            <!-- ‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå (Way of the Guardian) -->
            <div class="mb-10">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xs font-black text-amber-500 uppercase tracking-widest flex items-center gap-2">
                        <span class="text-xl">üåü</span> ‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå
                    </h3>
                    <span class="text-[10px] text-amber-500 font-bold bg-amber-500/10 px-2 py-1 rounded">LIGHT</span>
                </div>
                <div id="guardian-list" class="space-y-4">
                    <!-- JS Render -->
                </div>
            </div>

            <!-- ‡∏£‡∏≠‡∏¢‡∏£‡πâ‡∏≤‡∏ß‡πÉ‡∏ô‡∏°‡∏¥‡∏ï‡∏¥‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô (Rift in Energy Dimension) -->
            <div class="mb-4">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xs font-black text-purple-500 uppercase tracking-widest flex items-center gap-2">
                        <span class="text-xl">üå™Ô∏è</span> ‡∏£‡∏≠‡∏¢‡∏£‡πâ‡∏≤‡∏ß‡πÉ‡∏ô‡∏°‡∏¥‡∏ï‡∏¥‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô
                    </h3>
                    <span class="text-[10px] text-purple-500 font-bold bg-purple-500/10 px-2 py-1 rounded">VOID</span>
                </div>
                <div id="rift-list" class="space-y-4">
                    <!-- JS Render -->
                </div>
            </div>
            
            <button onclick="closeModal('achievement-modal')" class="w-full py-4 bg-slate-800 hover:bg-slate-700 font-bold rounded-2xl mt-4 text-sm uppercase transition-all">Close Dashboard</button>
        </div>
    </div>
    
    <!-- Notification Config -->
    <div id="config-modal" class="modal-overlay" onclick="closeModal('config-modal')">
        <div class="glass-card p-10 w-full max-w-sm" onclick="event.stopPropagation()">
            <div class="text-center mb-8">
                <div class="text-4xl mb-2">üîî</div>
                <h2 class="text-2xl font-black italic uppercase">Alert Config</h2>
                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">Set your daily reminder</p>
            </div>
            <div class="space-y-8">
                <div class="space-y-3">
                    <label class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Target Time</label>
                    <input type="time" id="config-time" class="w-full bg-slate-900 border border-slate-800 p-5 rounded-3xl text-4xl text-cyan-400 text-center font-mono focus:border-cyan-500 outline-none shadow-inner">
                </div>
                <div class="flex items-center gap-4 p-4 bg-slate-950/50 rounded-2xl border border-slate-800">
                    <input type="checkbox" id="push-active" checked class="w-6 h-6 accent-cyan-500 rounded-lg">
                    <label for="push-active" class="text-sm text-slate-300 font-bold">Enable System Alerts</label>
                </div>
                <button onclick="saveNotificationSettings()" class="w-full py-5 bg-cyan-500 hover:bg-cyan-400 text-slate-950 font-black rounded-2xl transition-all shadow-xl text-lg italic uppercase">
                    CONFIRM SETTINGS
                </button>
                <button onclick="closeModal('config-modal')" class="w-full text-slate-500 text-[10px] font-black uppercase tracking-[0.2em] hover:text-white transition-colors">Dismiss</button>
            </div>
        </div>
    </div>

    <!-- Rank & Tiers Modals -->
    <div id="rank-modal" class="modal-overlay" onclick="closeModal('rank-modal')">
        <div class="glass-card p-8 w-full max-w-md" onclick="event.stopPropagation()">
            <h2 class="text-2xl font-black italic mb-8 border-b border-slate-800 pb-4">üèÜ RANKING</h2>
            <div class="space-y-4" id="rank-list-content"></div>
            <button onclick="closeModal('rank-modal')" class="w-full py-4 bg-slate-800 font-bold rounded-2xl mt-8 text-sm uppercase">Close</button>
        </div>
    </div>

    <div id="tiers-modal" class="modal-overlay" onclick="closeModal('tiers-modal')">
        <div class="glass-card p-8 w-full max-w-md max-h-[80vh] overflow-y-auto" onclick="event.stopPropagation()">
            <h2 class="text-2xl font-black italic mb-8">üìä TIERS</h2>
            <div class="space-y-4" id="tier-list-content"></div>
            <button onclick="closeModal('tiers-modal')" class="w-full py-4 bg-slate-800 font-bold rounded-2xl mt-8 text-sm uppercase">Close</button>
        </div>
    </div>

    <script>
        const TIERS = [
            { lv: 50, name: "Carbon Hero üõ°Ô∏è", desc: "‡∏Å‡∏≠‡∏ö‡∏Å‡∏π‡πâ‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô" },
            { lv: 20, name: "Solar King üëë", desc: "‡∏£‡∏≤‡∏ä‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" },
            { lv: 10, name: "Energy Master ‚ö°", desc: "‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏ü" },
            { lv: 5, name: "Eco Scout üîã", desc: "‡∏ô‡∏±‡∏Å‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏£‡∏±‡∏Å‡∏©‡πå‡πÇ‡∏•‡∏Å" },
            { lv: 1, name: "Newbie üçº", desc: "‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà" }
        ];

        let state = {
            lv: 1, exp: 0, maxExp: 100, points: 0, savings: 0,
            reminderTime: "18:00", reminderActive: true,
            achievements: {
                guardian: [
                    { id: 'g1', title: '‡πÅ‡∏™‡∏á‡πÅ‡∏£‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏™‡∏ï‡∏¥', current: 0, target: 1, unit: '', color: 'guard' },
                    { id: 'g2', title: '‡∏õ‡πâ‡∏≠‡∏°‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î', current: 0, target: 10, unit: ' ‡∏ß‡∏±‡∏ô', color: 'guard' },
                    { id: 'g3', title: '‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡πÅ‡∏´‡πà‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï', current: 0, target: 100, unit: ' pt', color: 'guard' }
                ],
                rift: [
                    { id: 'r1', title: '‡∏ú‡∏π‡πâ‡∏™‡∏¢‡∏ö‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•', current: 0, target: 100, unit: '‡∏ø', color: 'rift' },
                    { id: 'r2', title: '‡∏°‡∏¥‡∏ï‡∏¥‡∏•‡∏µ‡πâ‡∏•‡∏±‡∏ö‡πÅ‡∏´‡πà‡∏á Eco', current: 0, target: 5, unit: ' ‡∏Ñ‡∏£‡∏±‡πâ‡∏á', color: 'rift' },
                    { id: 'r3', title: '‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏£‡∏≠‡∏¢‡∏£‡πâ‡∏≤‡∏ß', current: 0, target: 1, unit: '', color: 'rift' }
                ]
            }
        };

        function showNotification(msg, icon = 'üîî') {
            const el = document.getElementById('global-alert');
            document.getElementById('alert-msg').innerText = msg;
            document.getElementById('alert-icon').innerText = icon;
            el.classList.add('active');
            setTimeout(() => el.classList.remove('active'), 4000);
        }

        function openModal(id) {
            document.getElementById(id).style.display = 'flex';
            if(id === 'rank-modal') renderLeaderboard();
            if(id === 'tiers-modal') renderTiers();
            if(id === 'achievement-modal') updateUI();
        }

        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        function saveNotificationSettings() {
            state.reminderTime = document.getElementById('config-time').value;
            state.reminderActive = document.getElementById('push-active').checked;
            updateUI();
            showNotification("‡∏°‡∏¥‡∏ï‡∏¥‡∏à‡∏î‡∏à‡∏≥‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡πâ‡∏ß", "üåÄ");
            closeModal('config-modal');
        }

        function processData() {
            const usage = parseFloat(document.getElementById('in-usage').value);
            const limit = parseFloat(document.getElementById('in-limit').value);
            if (isNaN(usage) || usage <= 0) { showNotification("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÑ‡∏ü!", "‚ö†Ô∏è"); return; }

            const diff = limit - usage;
            if (diff >= 0) {
                state.points += 50; state.savings += (diff * 4.42);
                addExp(40);
                
                // Achievement Progression
                state.achievements.guardian[0].current = 1;
                state.achievements.guardian[1].current = Math.min(10, state.achievements.guardian[1].current + 1);
                state.achievements.guardian[2].current = Math.min(100, state.points);
                
                state.achievements.rift[0].current = Math.min(100, Math.floor(state.savings));
                if(diff > (limit/2)) state.achievements.rift[1].current = Math.min(5, state.achievements.rift[1].current + 1);
                state.achievements.rift[2].current = 1;

                showNotification(`‡∏ß‡∏¥‡∏ñ‡∏µ‡∏ú‡∏π‡πâ‡∏û‡∏¥‡∏ó‡∏±‡∏Å‡∏©‡πå‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô! ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏õ‡πÑ‡∏î‡πâ ${diff.toFixed(2)}`, "üåü");
            } else {
                addExp(10);
                showNotification("‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•! ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "üå™Ô∏è");
            }
            document.getElementById('in-usage').value = "";
            updateUI();
        }

        function addExp(val) {
            state.exp += val;
            if (state.exp >= state.maxExp) {
                state.lv++; state.exp -= state.maxExp;
                state.maxExp = Math.floor(state.maxExp * 1.5);
                showNotification("LEVEL UP!", "üÜô");
            }
        }

        function updateUI() {
            document.getElementById('u-lv').innerText = state.lv;
            document.getElementById('u-exp-txt').innerText = `${state.exp}/${state.maxExp} XP`;
            document.getElementById('u-exp-bar').style.width = (state.exp / state.maxExp * 100) + '%';
            document.getElementById('stat-p').innerText = Math.floor(state.points);
            document.getElementById('stat-s').innerText = state.savings.toFixed(2);
            document.getElementById('reminder-display').innerText = state.reminderActive ? state.reminderTime : "OFF";
            
            const currentTier = TIERS.find(t => state.lv >= t.lv) || TIERS[TIERS.length - 1];
            document.getElementById('u-rank').innerText = currentTier.name;

            const renderItems = (items, targetId) => {
                document.getElementById(targetId).innerHTML = items.map(item => {
                    const percent = Math.min(100, (item.current / item.target) * 100);
                    const isDone = item.current >= item.target;
                    return `
                        <div class="p-4 rounded-2xl bg-slate-950/40 border border-slate-800 transition-all ${isDone ? 'border-l-4 border-l-' + (item.color === 'guard' ? 'amber-500' : 'purple-500') + ' ring-1 ring-' + (item.color === 'guard' ? 'amber-500/20' : 'purple-500/20') : 'opacity-70'}">
                            <div class="flex justify-between items-center mb-1">
                                <span class="text-[11px] font-black text-slate-200 uppercase">${item.title}</span>
                                <span class="text-[9px] font-mono text-slate-500 font-bold">${item.current}/${item.target}${item.unit}</span>
                            </div>
                            <div class="progress-sub-bar">
                                <div class="progress-fill-${item.color}" style="width: ${percent}%"></div>
                            </div>
                        </div>
                    `;
                }).join('');
            };

            renderItems(state.achievements.guardian, 'guardian-list');
            renderItems(state.achievements.rift, 'rift-list');
        }

        function renderLeaderboard() {
            const players = [{ name: "Elite_Guardian", pts: 4500 }, { name: "Eco_Pioneer (You)", pts: state.points, me: true }, { name: "RiftWalker", pts: 1200 }].sort((a,b) => b.pts - a.pts);
            document.getElementById('rank-list-content').innerHTML = players.map((p, i) => `
                <div class="flex items-center justify-between p-5 rounded-2xl ${p.me ? 'bg-cyan-500/10 border border-cyan-500/30' : 'bg-slate-900/50 border border-slate-800'}">
                    <span class="font-bold">#${i+1} ${p.name}</span>
                    <span class="font-mono font-bold text-xs">${p.pts} PTS</span>
                </div>
            `).join('');
        }

        function renderTiers() {
            document.getElementById('tier-list-content').innerHTML = TIERS.map(t => `
                <div class="p-5 rounded-2xl border border-slate-800 bg-slate-900/50 flex justify-between items-center">
                    <div><h4 class="font-black text-sm">${t.name}</h4><p class="text-[10px] text-slate-500">${t.desc}</p></div>
                    <span class="text-[10px] bg-slate-800 px-3 py-1 rounded-full">LV ${t.lv}+</span>
                </div>
            `).join('');
        }

        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString('th-TH', { hour12: false });
            const currentTimeStr = now.toTimeString().substring(0, 5);
            if(state.reminderActive && currentTimeStr === state.reminderTime && now.getSeconds() === 0) {
                showNotification("‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏°‡∏¥‡∏ï‡∏¥‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß!", "‚è∞");
            }
        }, 1000);

        updateUI();
    </script>
</body>
</html>
